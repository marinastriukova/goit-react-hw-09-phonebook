{"version":3,"sources":["components/Section/Section.jsx","components/Form/Form.jsx","redux/phonebook/phonebook-operations.js","redux/phonebook/phonebook-selectors.js","components/ContactsList/ContactsList.jsx","components/Filter/Filter.jsx","components/ErrorMessage/ErrorMessage.js","components/Phonebook.js","components/Phonebook.module.css","components/Section/Section.module.css","components/Form/Form.module.css","components/ContactsList/ContactsList.module.css","components/Filter/Filter.module.css","components/ErrorMessage/ErrorMessage.module.css"],"names":["Section","title","children","className","style","section","CSSTransition","in","appear","timeout","classNames","styles","unmountOnExit","Form","name","number","onChangeInput","onSubmitForm","form","onSubmit","formLabel","type","formInput","value","onChange","required","formButton","fetchItemsRequest","actions","fetchItemsSuccess","fetchItemsError","addContactRequest","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","dispatch","a","axios","get","then","data","catch","error","message","item","post","id","delete","getAllContacts","state","contacts","items","getFilter","filter","getLoading","loading","getVisibleContacts","createSelector","toLowerCase","includes","ContactsList","useDispatch","useSelector","selectors","TransitionGroup","component","list","length","map","contact","button","onClick","operations","Filter","label","e","changeFilter","target","input","ErrorMessage","alert","Phonebook","useState","setName","setNumber","setError","reset","useEffect","onAddContact","useCallback","preventDefault","find","setTimeout","module","exports"],"mappings":"oQAoBeA,MAff,YAAuC,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACtB,OAAQ,sBAAKC,UAAWC,IAAMC,QAAtB,UACJ,cAACC,EAAA,EAAD,CAAeC,IAAI,EAAMC,QAAQ,EAAMC,QAAS,IAAKC,WAAYC,IAAQC,eAAa,EAAtF,SACI,oBAAIT,UAAWC,IAAMH,MAArB,SAA6BA,MAEhCC,M,iBCRM,SAASW,EAAT,GAAuE,IAAD,IAArDC,YAAqD,MAA9C,GAA8C,MAA1CC,cAA0C,MAAjC,EAAiC,EAA9BC,EAA8B,EAA9BA,cAAeC,EAAe,EAAfA,aAE9D,OACI,mCACI,uBAAMd,UAAWC,IAAMc,KAAMC,SAAUF,EAAvC,UACI,wBAAOd,UAAWC,IAAMgB,UAAxB,iBAEA,uBACQN,KAAK,OACLO,KAAK,OACLlB,UAAWC,IAAMkB,UACjBC,MAAOT,EACPU,SAAUR,EACVS,UAAQ,OAGhB,wBAAOtB,UAAWC,IAAMgB,UAAxB,mBAEA,uBACQN,KAAK,SACLO,KAAK,OACLlB,UAAWC,IAAMkB,UACjBC,MAAOR,EACPS,SAAUR,EACVS,UAAQ,OAGhB,wBAAQJ,KAAK,SAASlB,UAAWC,IAAMsB,WAAvC,8B,uFCzBhBC,EASAC,IATAD,kBACAE,EAQAD,IARAC,kBACAC,EAOAF,IAPAE,gBACAC,EAMAH,IANAG,kBACAC,EAKAJ,IALAI,kBACAC,EAIAL,IAJAK,gBACAC,EAGAN,IAHAM,qBACAC,EAEAP,IAFAO,qBACAC,EACAR,IADAQ,mBA+CW,EA1CI,yDAAM,WAAMC,GAAN,SAAAC,EAAA,sDACrBD,EAASV,KASTY,IACKC,IAAI,aACJC,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcL,EAASR,EAAkBa,OAC9CC,OAAM,SAAAC,GAAK,OAAIP,EAASP,EAAgBc,EAAMC,aAb9B,2CAAN,uDA0CJ,EAzBI,SAAC/B,EAAMC,GAAP,OAAkB,SAAAsB,GACjC,IAAMS,EAAO,CACThC,OACAC,UAGJsB,EAASN,KAETQ,IACKQ,KAAK,YAAaD,GAClBL,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OAAcL,EAASL,EAAkBU,OAC9CC,OAAM,SAAAC,GAAK,OAAIP,EAASJ,EAAgBW,EAAMC,eAcxC,EAVO,SAAAG,GAAE,OAAI,SAAAX,GACxBA,EAASH,KAETK,IACKU,OADL,oBACyBD,IACpBP,MAAK,kBAAMJ,EAASF,EAAqBa,OACzCL,OAAM,SAAAC,GAAK,OAAIP,EAASD,EAAmBQ,EAAMC,e,QCrDpDK,EAAiB,SAAAC,GAAK,OAAIA,EAAMC,SAASC,OAEzCC,EAAY,SAAAH,GAAK,OAAIA,EAAMC,SAASG,QAY3B,GACXL,iBACAI,YACAE,WAbe,SAAAL,GAAK,OAAIA,EAAMC,SAASK,SAcvCC,mBAZuBC,YACvB,CAACT,EAAgBI,IACjB,SAACD,EAAOE,GACJ,OAAOF,EAAME,QAAO,SAAAT,GAAI,OACpBA,EAAKhC,KAAK8C,cAAcC,SAASN,EAAOK,sBCHrC,SAASE,IACxB,IAAMzB,EAAW0B,cAEXX,EAAWY,YAAYC,EAAUP,oBAKnC,OACI,cAACQ,EAAA,EAAD,CAAiBC,UAAU,KAAKhE,UAAWC,IAAMgE,KAAjD,SACyB,IAApBhB,EAASiB,OAAe,cAAC/D,EAAA,EAAD,CAAeC,GAAwB,IAApB6C,EAASiB,OAAc5D,QAAS,IAAKC,WAAYC,IAAQC,eAAa,EAAzF,SACzB,sDAECwC,EAASkB,KAAI,SAAAC,GACV,OACI,cAACjE,EAAA,EAAD,CAAgCC,IAAI,EAAMC,QAAQ,EAAMC,QAAS,IAAKC,WAAYC,IAAQC,eAAa,EAAvG,SACI,qBAAIT,UAAWC,IAAMiD,MAArB,UACI,8BACI,iCAAOkB,EAAQzD,KAAf,QACA,+BAAOyD,EAAQxD,YAEnB,wBAAQZ,UAAWC,IAAMoE,OAAQC,QAAS,kBAhBrDzB,EAgBoEuB,EAAQvB,GAhBtEX,EAASqC,EAAyB1B,IAAxC,IAAAA,GAgBW,wBANYuB,EAAQvB,S,qBChBjC,SAAS2B,IAExB,IAAMtC,EAAW0B,cAEXxC,EAAQyC,YAAYC,EAAUX,WAC9BD,EAAQW,YAAYC,EAAUf,gBAKhC,OACI,cAAC5C,EAAA,EAAD,CAAeC,GAAI8C,EAAMgB,OAAS,EAAG5D,QAAS,IAAKC,WAAYC,IAAQC,eAAa,EAApF,SACA,wBAAOT,UAAWC,IAAMwE,MAAxB,kCAEI,uBACAvD,KAAK,OACLE,MAAOA,EACPC,SATW,SAAAqD,GAAC,OAAIxC,EAAST,IAAQkD,aAAaD,EAAEE,OAAOxD,SAUvDpB,UAAWC,IAAM4E,a,qBCxBd,SAASC,IACpB,OAAO,mBAAG9E,UAAWC,IAAM8E,MAApB,kDCSI,SAASC,IACpB,IAAM9C,EAAW0B,cADe,EAGRqB,mBAAS,IAHD,mBAGzBtE,EAHyB,KAGnBuE,EAHmB,OAIJD,mBAAS,IAJL,mBAIzBrE,EAJyB,KAIjBuE,EAJiB,OAKNF,mBAAS,IALH,mBAKzBxC,EALyB,KAKlB2C,EALkB,KAO1BnC,EAAWY,YAAYC,EAAUf,gBAgCjCsC,EAAQ,WACVH,EAAQ,IACRC,EAAU,KAGdG,qBAAU,WAAKpD,EAASqC,OAA0B,CAACrC,IAGnD,IAAMqD,EAAeC,uBAAY,WAAKtD,EAASqC,EAAsB5D,EAAMC,MAAU,CAACsB,EAAUvB,EAAMC,IAEtG,OACI,gCACI,cAAC,EAAD,CAASd,MAAM,YAAf,SACI,cAACY,EAAD,CAAMC,KAAMA,EACRC,OAAQA,EACRC,cA7CM,SAAA6D,GAAM,IAAD,EACCA,EAAEE,OAAlBjE,EADe,EACfA,KAAMS,EADS,EACTA,MAEd,OAAQT,GACJ,IAAM,OACFuE,EAAQ9D,GACR,MAEJ,IAAM,SACF+D,EAAU/D,KAqCNN,aAhCG,SAAA4D,GAIf,GAHAA,EAAEe,iBAGExC,EAASyC,MAAK,SAAAtB,GAAO,OAAIA,EAAQzD,KAAK8C,gBAAkB9C,EAAK8C,iBAK7D,OAJI2B,GAAS,QACbO,YAAW,WACPP,GAAS,KACV,KAIPG,EAAa5E,EAAMC,GAClByE,SAqBG,eAAC,EAAD,CAASvF,MAAM,WAAf,UACI,cAACK,EAAA,EAAD,CAAeG,QAAS,IAAKC,WAAYN,IAAzC,SACI,cAACuE,EAAD,MAEJ,cAACrE,EAAA,EAAD,CAAeG,QAAS,IAAxB,SACI,cAACqD,EAAD,MAEJ,cAACxD,EAAA,EAAD,CAAeC,IAAc,IAAVqC,EAAgBnC,QAAS,IAAMC,WAAYN,IAAOQ,eAAa,EAAlF,SACI,cAACqE,EAAD,c,mBC5EpBc,EAAOC,QAAU,CAAC,OAAS,0BAA0B,aAAe,gCAAgC,MAAQ,yBAAyB,YAAc,+BAA+B,KAAO,wBAAwB,WAAa,gC,mBCA9ND,EAAOC,QAAU,CAAC,QAAU,yBAAyB,MAAQ,uBAAuB,OAAS,wBAAwB,aAAe,gC,mBCApID,EAAOC,QAAU,CAAC,KAAO,mBAAmB,UAAY,wBAAwB,UAAY,wBAAwB,WAAa,2B,mBCAjID,EAAOC,QAAU,CAAC,KAAO,2BAA2B,cAAc,kCAAkC,oBAAoB,wCAAwC,aAAa,iCAAiC,mBAAmB,uCAAuC,YAAY,gCAAgC,kBAAkB,sCAAsC,MAAQ,4BAA4B,OAAS,+B,mBCAzZD,EAAOC,QAAU,CAAC,MAAQ,sBAAsB,MAAQ,wB,mBCAxDD,EAAOC,QAAU,CAAC,MAAQ","file":"static/js/3.02646af1.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport style from './Section.module.css';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport styles from '../Phonebook.module.css';\r\n\r\nfunction Section({ title, children }) {\r\n    return (<div className={style.section}>\r\n        <CSSTransition in={true} appear={true} timeout={500} classNames={styles} unmountOnExit>\r\n            <h1 className={style.title}>{title}</h1>\r\n        </CSSTransition>\r\n        {children}\r\n    </div>\r\n    )\r\n}\r\n\r\nSection.propTypes = {\r\n    title: PropTypes.string,\r\n    children: PropTypes.any\r\n}\r\n\r\nexport default Section;","import style from './Form.module.css';\r\n\r\nexport default function Form ({ name = '', number = 0, onChangeInput, onSubmitForm }){\r\n\r\n        return (\r\n            <>\r\n                <form className={style.form} onSubmit={onSubmitForm}>\r\n                    <label className={style.formLabel}>\r\n                        Name\r\n                    <input\r\n                            name='name'\r\n                            type=\"text\"\r\n                            className={style.formInput}\r\n                            value={name}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                        />\r\n                    </label>\r\n                    <label className={style.formLabel}>\r\n                        Number\r\n                    <input\r\n                            name='number'\r\n                            type=\"text\"\r\n                            className={style.formInput}\r\n                            value={number}\r\n                            onChange={onChangeInput}\r\n                            required\r\n                        />\r\n                    </label>\r\n                    <button type=\"submit\" className={style.formButton}>Add contact</button>\r\n                </form>\r\n                \r\n            </>\r\n        )\r\n    }\r\n","import axios from 'axios';\r\nimport actions from './phonebook-actions';\r\n\r\nconst {\r\n    fetchItemsRequest,\r\n    fetchItemsSuccess,\r\n    fetchItemsError,\r\n    addContactRequest,\r\n    addContactSuccess,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError\r\n} = actions;\r\n\r\n\r\n\r\nconst fetchItems = () => async dispatch => {\r\n    dispatch(fetchItemsRequest());\r\n\r\n    // try {\r\n    //     const {data} = await axios.get('http://localhost:4040/contacts');\r\n    //     dispatch(fetchItemsSuccess(data));\r\n    // } catch (error){\r\n    //     dispatch(fetchItemsError(error))\r\n    // }\r\n\r\n    axios\r\n        .get('/contacts')\r\n        .then(({ data }) => dispatch(fetchItemsSuccess(data)))\r\n        .catch(error => dispatch(fetchItemsError(error.message)));\r\n}\r\n\r\n\r\nconst addContact = (name, number) => dispatch => {\r\n    const item = {\r\n        name,\r\n        number\r\n    };\r\n\r\n    dispatch(addContactRequest());\r\n\r\n    axios\r\n        .post('/contacts', item)\r\n        .then(({ data }) => dispatch(addContactSuccess(data)))\r\n        .catch(error => dispatch(addContactError(error.message)))\r\n};\r\n\r\n\r\nconst deleteContact = id => dispatch => {\r\n    dispatch(deleteContactRequest());\r\n\r\n    axios\r\n        .delete(`/contacts/${id}`)\r\n        .then(() => dispatch(deleteContactSuccess(id)))\r\n        .catch(error => dispatch(deleteContactError(error.message)))\r\n};\r\n\r\n\r\nexport default { fetchItems, addContact, deleteContact }\r\n","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nconst getAllContacts = state => state.contacts.items;\r\n\r\nconst getFilter = state => state.contacts.filter;\r\n\r\nconst getLoading = state => state.contacts.loading;\r\n\r\nconst getVisibleContacts = createSelector(\r\n    [getAllContacts, getFilter],\r\n    (items, filter) => {\r\n        return items.filter(item =>\r\n            item.name.toLowerCase().includes(filter.toLowerCase()))\r\n    }\r\n)\r\n\r\nexport default {\r\n    getAllContacts,\r\n    getFilter,\r\n    getLoading,\r\n    getVisibleContacts\r\n}","import style from './ContactsList.module.css';\r\nimport styles from '../Phonebook.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport operations from '../../redux/phonebook/phonebook-operations';\r\nimport selectors from '../../redux/phonebook/phonebook-selectors';\r\n\r\n\r\nexport default function ContactsList() {\r\nconst dispatch = useDispatch();\r\n\r\nconst contacts = useSelector(selectors.getVisibleContacts)\r\n\r\nconst onRemove = id => dispatch(operations.deleteContact(id))\r\n\r\n\r\n    return (\r\n        <TransitionGroup component=\"ul\" className={style.list}>\r\n            {contacts.length === 0 ? <CSSTransition in={contacts.length === 0} timeout={250} classNames={styles} unmountOnExit>\r\n            <p>Add contacts please</p>\r\n            </CSSTransition> :\r\n            (contacts.map(contact => {\r\n                return (\r\n                    <CSSTransition key={contact.id} in={true} appear={true} timeout={250} classNames={styles} unmountOnExit>\r\n                        <li className={style.items}>\r\n                            <p>\r\n                                <span>{contact.name}: </span>\r\n                                <span>{contact.number}</span>\r\n                            </p>\r\n                            <button className={style.button} onClick={() => onRemove(contact.id)}>Delete</button>\r\n                        </li>\r\n                    </CSSTransition>)\r\n            }\r\n            ))}\r\n        </TransitionGroup>)\r\n}\r\n\r\nContactsList.propTypes = {\r\n    contacts: PropTypes.arrayOf(\r\n        PropTypes.shape({\r\n            id: PropTypes.string.isRequired,\r\n            name: PropTypes.string.isRequired,\r\n            number: PropTypes.string.isRequired,\r\n        })),\r\n    onRemove: PropTypes.func\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import style from './Filter.module.css';\r\nimport styles from '../Phonebook.module.css';\r\nimport PropTypes from 'prop-types';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport actions from '../../redux/phonebook/phonebook-actions';\r\nimport selectors from '../../redux/phonebook/phonebook-selectors';\r\n\r\nexport default function Filter() {\r\n\r\nconst dispatch = useDispatch();\r\n\r\nconst value = useSelector(selectors.getFilter);\r\nconst items = useSelector(selectors.getAllContacts);\r\n\r\n\r\nconst onChangeFilter = e => dispatch(actions.changeFilter(e.target.value))\r\n\r\n    return(\r\n        <CSSTransition in={items.length > 0} timeout={250} classNames={styles} unmountOnExit>\r\n        <label className={style.label}>\r\n            Find contacts by name\r\n            <input \r\n            type=\"text\"\r\n            value={value}\r\n            onChange={onChangeFilter}\r\n            className={style.input}\r\n            />\r\n        </label>\r\n        </CSSTransition>\r\n    )\r\n}\r\n\r\nFilter.propTypes = {\r\n    value: PropTypes.string,\r\n    onChangeFilter: PropTypes.func,\r\n  };\r\n\r\n\r\n\r\n\r\n","import style from './ErrorMessage.module.css';\r\n\r\nexport default function ErrorMessage() {\r\n    return <p className={style.alert}>This contact is already in phonebook</p>\r\n}","import { useCallback, useEffect, useState } from 'react';\r\nimport Section from './Section/Section'\r\nimport Form from './Form/Form';\r\nimport ContactsList from './ContactsList/ContactsList';\r\nimport Filter from './Filter/Filter';\r\nimport ErrorMessage from './ErrorMessage/ErrorMessage';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport style from './Phonebook.module.css';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport operations from '../redux/phonebook/phonebook-operations';\r\nimport selectors from '../redux/phonebook/phonebook-selectors';\r\n\r\nexport default function Phonebook() {\r\n    const dispatch = useDispatch();\r\n\r\n    const [name, setName] = useState('');\r\n    const [number, setNumber] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const contacts = useSelector(selectors.getAllContacts);\r\n\r\n    const onInputChange = e => {\r\n        const { name, value } = e.target;\r\n\r\n        switch (name) {\r\n            case ('name'):\r\n                setName(value);\r\n                break;\r\n\r\n            case ('number'):\r\n                setNumber(value);\r\n                break; \r\n        }\r\n    }\r\n  \r\n    const submitForm = e => {\r\n        e.preventDefault();\r\n       \r\n\r\n        if (contacts.find(contact => contact.name.toLowerCase() === name.toLowerCase())) {\r\n                setError(true);\r\n            setTimeout(() => {\r\n                setError(false)\r\n            }, 2000)\r\n            return\r\n        }\r\n\r\n        onAddContact(name, number);\r\n         reset();\r\n    }\r\n\r\n    const reset = () => {\r\n        setName('');\r\n        setNumber('');\r\n    };\r\n\r\n    useEffect(()=>{dispatch(operations.fetchItems())},[dispatch]);\r\n    \r\n\r\n    const onAddContact = useCallback(()=>{dispatch(operations.addContact(name, number))},[dispatch, name, number]);\r\n\r\n    return (\r\n        <div>\r\n            <Section title='Phonebook'>\r\n                <Form name={name}\r\n                    number={number}\r\n                    onChangeInput={onInputChange}\r\n                    onSubmitForm={submitForm}></Form>\r\n            </Section>\r\n            <Section title='Contacts'>\r\n                <CSSTransition timeout={250} classNames={style} >\r\n                    <Filter />\r\n                </CSSTransition>\r\n                <CSSTransition timeout={500}>\r\n                    <ContactsList />\r\n                </CSSTransition>\r\n                <CSSTransition in={error === true} timeout={1000} classNames={style} unmountOnExit>\r\n                    <ErrorMessage />\r\n                </CSSTransition>\r\n            </Section>\r\n        </div>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appear\":\"Phonebook_appear__yJgOh\",\"appearActive\":\"Phonebook_appearActive__3Ziek\",\"enter\":\"Phonebook_enter__31Slw\",\"enterActive\":\"Phonebook_enterActive__2DBfH\",\"exit\":\"Phonebook_exit__2oeof\",\"exitActive\":\"Phonebook_exitActive__19vMS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__3yXxN\",\"title\":\"Section_title__2xFB4\",\"appear\":\"Section_appear__3uC4x\",\"appearActive\":\"Section_appearActive__1LZqP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__qH7vc\",\"formLabel\":\"Form_formLabel__27OK1\",\"formInput\":\"Form_formInput__1oaHI\",\"formButton\":\"Form_formButton__2MAZE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ContactsList_list__3Zy_i\",\"item-appear\":\"ContactsList_item-appear__1hk3Z\",\"item-appearActive\":\"ContactsList_item-appearActive__1nTtL\",\"item-enter\":\"ContactsList_item-enter__2sOY4\",\"item-enterActive\":\"ContactsList_item-enterActive__2NcBs\",\"item-exit\":\"ContactsList_item-exit__1sYIM\",\"item-exitActive\":\"ContactsList_item-exitActive__3b75Y\",\"items\":\"ContactsList_items__2m7NE\",\"button\":\"ContactsList_button__3NTZX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__34gLa\",\"input\":\"Filter_input__lm0xo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"alert\":\"ErrorMessage_alert__1Hd2U\"};"],"sourceRoot":""}